<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<VBox spacing="20.0" styleClass="dialog-container" stylesheets="@../../styles/dialogs.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.lms.controller.dialogs.CreateSeatReservationDialogController">

   <!-- Dialog Header -->
   <HBox alignment="CENTER_LEFT" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="60.0" minWidth="-Infinity" prefHeight="40.0" prefWidth="800.0" spacing="15.0" styleClass="dialog-header">
      <children>
         <Label styleClass="dialog-icon" text="ðŸ’º" />
         <VBox>
            <children>
               <Label styleClass="dialog-title" text="Create Seat Reservation" />
            </children>
         </VBox>
      </children>
   </HBox>

   <!-- Form Content -->
   <VBox spacing="20.0" styleClass="dialog-content">
      <children>

         <!-- Member Selection -->
         <VBox spacing="8.0">
            <children>
               <Label styleClass="field-label" text="Select Member *" />
               <ComboBox fx:id="memberCombo" prefWidth="400.0" promptText="Choose a member..." styleClass="dialog-combo" />
               <Label fx:id="memberInfoLabel" styleClass="info-label" />
            </children>
         </VBox>

         <!-- Seat Selection -->
         <HBox spacing="20.0">
            <children>
               <!-- Seat Type Filter -->
               <VBox spacing="8.0" HBox.hgrow="SOMETIMES">
                  <children>
                     <Label styleClass="field-label" text="Seat Type Filter" />
                     <ComboBox fx:id="seatTypeFilter" prefWidth="180.0" styleClass="dialog-combo" />
                  </children>
               </VBox>

               <!-- Seat Selection -->
               <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                  <children>
                     <Label styleClass="field-label" text="Select Seat *" />
                     <ComboBox fx:id="seatCombo" prefWidth="200.0" promptText="Choose an available seat..." styleClass="dialog-combo" />
                     <Label fx:id="seatInfoLabel" styleClass="info-label" />
                  </children>
               </VBox>
            </children>
         </HBox>

         <!-- Date Selection -->
         <VBox spacing="8.0">
            <children>
               <Label styleClass="field-label" text="Reservation Date *" />
               <DatePicker fx:id="reservationDatePicker" blendMode="OVERLAY" prefWidth="200.0" styleClass="dialog-date-picker" />
            </children>
         </VBox>

         <!-- Time Selection Row -->
         <HBox spacing="20.0">
            <children>
               <!-- Start Time -->
               <VBox spacing="8.0" HBox.hgrow="SOMETIMES">
                  <children>
                     <Label styleClass="field-label" text="Start Time *" />
                     <ComboBox fx:id="startTimeCombo" prefWidth="120.0" styleClass="dialog-combo" />
                  </children>
               </VBox>

               <!-- End Time -->
               <VBox spacing="8.0" HBox.hgrow="SOMETIMES">
                  <children>
                     <Label styleClass="field-label" text="End Time *" />
                     <ComboBox fx:id="endTimeCombo" prefWidth="120.0" styleClass="dialog-combo" />
                  </children>
               </VBox>

               <!-- Duration -->
               <VBox spacing="8.0" HBox.hgrow="SOMETIMES">
                  <children>
                     <Label styleClass="field-label" text="Duration (minutes)" />
                     <Spinner fx:id="durationSpinner" blendMode="OVERLAY" prefWidth="120.0" styleClass="dialog-spinner" />
                  </children>
               </VBox>
            </children>
         </HBox>

         <!-- Duration Information -->
         <VBox spacing="8.0">
            <children>
               <Label fx:id="durationInfoLabel" styleClass="info-label" text="Maximum reservation duration: 4 hours" />
            </children>
         </VBox>

         <!-- Notes -->
         <VBox spacing="8.0">
            <children>
               <Label styleClass="field-label" text="Notes (Optional)" />
               <TextArea fx:id="notesArea" blendMode="OVERLAY" prefHeight="80.0" prefWidth="400.0" promptText="Enter any additional notes about this reservation..." styleClass="dialog-textarea" wrapText="true" />
            </children>
         </VBox>

      </children>
   </VBox>

   <VBox spacing="5.0">
      <children>
         <Label styleClass="required-note" text="* Required fields">
            <VBox.margin>
               <Insets left="40.0" />
            </VBox.margin>
         </Label>
         <Separator prefWidth="200.0" />
         <HBox alignment="CENTER_RIGHT" spacing="15.0" styleClass="dialog-buttons">
            <children>
               <Button fx:id="reserveButton" minHeight="-Infinity" mnemonicParsing="false" onAction="#handleReserve" prefHeight="36.0" styleClass="btn-primary" text="Create Reservation" />
               <Button fx:id="cancelButton" mnemonicParsing="false" onAction="#handleCancel" styleClass="btn-secondary" text="Cancel" />
            </children>
            <padding>
               <Insets bottom="20.0" left="20.0" right="20.0" top="10.0" />
            </padding>
         </HBox>
      </children>
   </VBox>
   <padding>
      <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
   </padding>
</VBox>
